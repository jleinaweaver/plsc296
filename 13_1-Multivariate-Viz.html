<!DOCTYPE html>
<html lang="en"><head>
<script src="13_1-Multivariate-Viz_files/libs/clipboard/clipboard.min.js"></script>
<script src="13_1-Multivariate-Viz_files/libs/quarto-html/tabby.min.js"></script>
<script src="13_1-Multivariate-Viz_files/libs/quarto-html/popper.min.js"></script>
<script src="13_1-Multivariate-Viz_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="13_1-Multivariate-Viz_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="13_1-Multivariate-Viz_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="13_1-Multivariate-Viz_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="13_1-Multivariate-Viz_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.57">

  <title>multivariate-viz</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="13_1-Multivariate-Viz_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="13_1-Multivariate-Viz_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="13_1-Multivariate-Viz_files/libs/revealjs/dist/theme/quarto.css">
  <link href="13_1-Multivariate-Viz_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="13_1-Multivariate-Viz_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="13_1-Multivariate-Viz_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="13_1-Multivariate-Viz_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="13_1-Multivariate-Viz_files/libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="13_1-Multivariate-Viz_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="todays-agenda" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2>Today’s Agenda</h2>
<p><br></p>
<div class="r-fit-text">
<p><strong>Multivariate Analyses</strong></p>
<ul>
<li><p>Descriptive Statistics and Visualizations</p></li>
<li><p>Data: WDI-Multivariate_Viz-2024-04-04.xlsx</p></li>
</ul>
</div>
<p><br></p>
<div class="r-stack">
<p>Justin Leinaweaver (Spring 2025)</p>
</div>
<aside class="notes">
<p>Prep for Class</p>
<ol type="1">
<li><p>Review Canvas submissions</p></li>
<li><p>Data: WDI-Multivariate_Viz-2024-04-04.xlsx</p></li>
</ol>
<p><br></p>
<p>Everybody make sure they have, or redownload, the WDI data I posted in Week 11 on our Canvas Modules page</p>
<ul>
<li>We’ll keep working with that data today</li>
</ul>
<p><br></p>
<p><strong>SLIDE</strong>: Last week…</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="building-a-causal-argument" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2>Building a Causal Argument</h2>
<p><br></p>

<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-2-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:80.0%"><aside class="notes">
<p>Last week we started exploring the concepts and approaches we can use to make causal arguments</p>
<ul>
<li>e.g.&nbsp;arguments that changes in X cause a change in Y</li>
</ul>
<p><br></p>
<p>We discussed:</p>
<ul>
<li><p>the Data Generating Process (DGP),</p></li>
<li><p>identification strategies,</p></li>
<li><p>the use of Directed Acyclic Graphs (DAGs), and</p></li>
<li><p>the need to adjust our analyses for confounders.</p></li>
</ul>
<p><br></p>
<p><strong>Any questions on those big ideas?</strong></p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="building-a-causal-argument-1" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2>Building a Causal Argument</h2>
<p><br></p>

<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-3-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:80.0%"><aside class="notes">
<p>In class on Friday we worked to:</p>
<ol type="1">
<li><p>Draw a DAG for our key mechanism, and</p></li>
<li><p>Gather data that operationalizes the concepts we identified as important confounders in these relatonships.</p></li>
</ol>
<p><br></p>
<p><strong>Any questions on those DAGs or the variables we selected?</strong></p>
<p><br></p>
<p>For today I asked each of you to perform univariate analyses on our chosen confounders</p>
<ul>
<li><strong>How did that go?</strong></li>
</ul>
<p><br></p>
<p><strong>Do we have sufficient variation in each to be useful?</strong></p>
<ul>
<li><strong>In other words, do the countries of the world actually vary in their levels of these confounders?</strong></li>
</ul>
<p><br></p>
<p><strong>Any interesting observations about the world from analyzing these variables on their own?</strong></p>
<p><br></p>
<p><strong>SLIDE</strong>: Plan for today</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="multivariate-analyses-1" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2>Multivariate Analyses 1</h2>
<p><br></p>
<div class="r-fit-text">
<p><strong>Working with Categorical Variables as Confounders</strong></p>
<ol type="1">
<li><p>Descriptive statistics by groups</p></li>
<li><p>Multiple Facets</p></li>
<li><p>Adding colors, shapes and sizes</p></li>
</ol>
</div>
<aside class="notes">
<p>Today I will introduce you to a series of multivariate statistical tools</p>
<ul>
<li><p>These tools allow you to adjust your visualizations and descriptive statistics for a confounder variable</p></li>
<li><p>HOWEVER, these tools, and our work this week, will focus ONLY on adding categorical variables to our analyses</p></li>
<li><p>Adding numeric variables is something we will do using mulitple regression next week</p></li>
</ul>
<p><br></p>
<p><strong>SLIDE</strong>: Our practice data</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="does-increasing-fertility-rates-directly-lower-life-expectancy-around-the-world" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2>Does increasing fertility rates directly lower life expectancy around the world?</h2>
<p><br></p>

<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-4-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:90.0%"><aside class="notes">
<p>Two weeks ago we used simple OLS models to explore global predictors of life expectancy</p>
<ul>
<li>One of our strongest findings was that countries with average fertility rates have lower average life expectancies</li>
</ul>
<p><br></p>
<p><strong>SLIDE</strong>: The question for us is, can we use statistics to establish that this is a causal effect and not just a correlation?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="building-a-causal-argument-2" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2>Building a Causal Argument</h2>

<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-5-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:80.0%"><p><strong>Possible Confounders</strong>: GDP per capita, unemployment rate, tobacco use, compulsory education</p>
<aside class="notes">
<p>Here is a list of the other variables in the dataset that we can consider as confounders in this relationship</p>
<p><br></p>
<p><strong>Remind me, what is the test for a confounder?</strong></p>
<ul>
<li><strong>When should we adjust our analysis for one of these variables?</strong></li>
</ul>
<p><br></p>
<p>A confounder is a variable that explains some of the variation in both the treatment and the outcome variables.</p>
<ol type="1">
<li><p>The confounder MUST cause BOTH variables in the mechanism</p></li>
<li><p>The direction of effect is FROM the confounder TO the mechanism</p></li>
</ol>
<p><br></p>
<p>I think it can be useful to think about this in terms of the “gold standard” of running a RCT (randomized controlled experiment)</p>
<ul>
<li><p>Do you believe that, on average, the high and low fertility rate countries are identical?</p></li>
<li><p>If not, are the key differences also things that should influence life expectancy?</p></li>
<li><p>If you believe they are not identical on average and the variable also influences the outcome then it is a confounder!</p></li>
</ul>
<p><br></p>
<p><strong>Of these options, are we convinced all of them are likely confounders of this relationship? Why or why not?</strong></p>
<p><br></p>
<p>Now, remember our techniques for today are all designed for when you have categorical variables as confounders</p>
<ul>
<li><p>None of these are currently categorical!</p></li>
<li><p><strong>SIDE</strong>: So, our first job is to create categorical versions of each of these variables</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Convert Numeric Variables to Categorical</strong></p>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="co"># Get the Quartiles</span></span>
<span id="cb1-2"><a href=""></a><span class="fu">summary</span>(d<span class="sc">$</span>fertility_rate_per_woman)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
  0.837   1.558   2.040   2.525   3.257   6.892       6 </code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a><span class="co"># Make the categorical version</span></span>
<span id="cb3-2"><a href=""></a>d<span class="sc">$</span>fertility_cat <span class="ot">&lt;-</span> <span class="fu">cut</span>(<span class="at">x =</span> d<span class="sc">$</span>fertility_rate_per_woman, </span>
<span id="cb3-3"><a href=""></a>                    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">1.558</span>, <span class="fl">2.040</span>, <span class="fl">3.257</span>, <span class="dv">7</span>), </span>
<span id="cb3-4"><a href=""></a>                    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Fertility (Q1)"</span>, <span class="st">"Fertility (Q2)"</span>, </span>
<span id="cb3-5"><a href=""></a>                               <span class="st">"Fertility (Q3)"</span>, <span class="st">"Fertility (Q4)"</span>))</span>
<span id="cb3-6"><a href=""></a></span>
<span id="cb3-7"><a href=""></a><span class="co"># Check the result</span></span>
<span id="cb3-8"><a href=""></a><span class="fu">table</span>(d<span class="sc">$</span>fertility_cat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Fertility (Q1) Fertility (Q2) Fertility (Q3) Fertility (Q4) 
            53             53             52             53 </code></pre>
</div>
</div>
<aside class="notes">
<p>We have previously used the cut() function to convert numeric variables into categorical variables</p>
<ul>
<li>Let’s practice that skill again now!</li>
</ul>
<p><br></p>
<p>Everybody copy this code using the cut function to make a categorical version of fertility</p>
<ul>
<li><strong>Does everybody remember this approach?</strong></li>
</ul>
<p><br></p>
<p>For ease of our work today I have done this for you for the GDP and tobacco variables</p>
<ul>
<li>Both are in today’s dataset with “_cat” at the end.</li>
</ul>
<p><br></p>
<p><strong>SLIDE</strong>: with our categorical confounders in hand we can start on our first multivariate approach…</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section-1" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Multivariate Analyses: Descriptive Statistics by Groups</strong></p>
<p><br></p>
<p><strong>Step 1: Start with the bivariate analysis</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a><span class="fu">aggregate</span>(<span class="at">data =</span> d, life_expectancy_total <span class="sc">~</span> fertility_cat, </span>
<span id="cb5-2"><a href=""></a>          <span class="at">FUN =</span> mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   fertility_cat life_expectancy_total
1 Fertility (Q1)              78.58678
2 Fertility (Q2)              76.57482
3 Fertility (Q3)              71.09696
4 Fertility (Q4)              63.19423</code></pre>
</div>
</div>
</div>
<aside class="notes">
<p>Step 1 to taking your descriptive statistics into multivariate analyses starts with the aggregate function</p>
<ul>
<li><p>Remember, this is what we used in our bivariate analyses.</p></li>
<li><p>Any descriptive stats function can be used (mean, median, sd, summary, min, max, etc)</p></li>
</ul>
<p><br></p>
<p>Here we see our main causal mechanism in action</p>
<ul>
<li><p>e.g.&nbsp;how mean life expectancy changes across fertility rate groupings</p></li>
<li><p>Life expectancy decreases are associated with increases in the fertility rate</p></li>
</ul>
<p><br></p>
<p>There are two ways to add a third variable to the aggregate function</p>
<ul>
<li><strong>SLIDE</strong>: Option 1 is to use the subset argument</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section-2" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Multivariate Analyses: Descriptive Statistics by Groups</strong></p>
<p><br></p>
<p><strong>Step 2a: Add a subset (numeric)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a><span class="fu">aggregate</span>(<span class="at">data =</span> d, life_expectancy_total <span class="sc">~</span> fertility_cat, </span>
<span id="cb7-2"><a href=""></a>          <span class="at">FUN =</span> mean,</span>
<span id="cb7-3"><a href=""></a>          <span class="at">subset =</span> gdp_per_capita <span class="sc">&lt;</span> <span class="fl">6370.9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   fertility_cat life_expectancy_total
1 Fertility (Q1)              74.11989
2 Fertility (Q2)              72.83625
3 Fertility (Q3)              69.39530
4 Fertility (Q4)              63.19822</code></pre>
</div>
</div>
</div>
<aside class="notes">
<p>Exact same code as before but now include a subset argument</p>
<ul>
<li><p>Subset allows you to define what part of the dataset you want to focus on using relational symbols</p></li>
<li><p>Any relational symbols can be used in subset (e.g.&nbsp;&gt;, &lt;, &gt;=, &lt;=, etc)</p></li>
</ul>
<p><br></p>
<p>I know I told you our focus today would be on categorical confounders, but, hey, this works too!</p>
<ul>
<li><strong>Everybody clear on this code?</strong></li>
</ul>
<p><br></p>
<p><strong>Does our association between fertility rate and life expectancy hold amongst the poorer countries in the world?</strong></p>
<p><br></p>
<p><strong>SLIDE</strong>: Rather than having to run this code repeatedly for different subsets lets use our quartiles variable</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section-3" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Multivariate Analyses: Descriptive Statistics by Groups</strong></p>
<p><br></p>
<p><strong>Step 2a: Add extra variables (categorical)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href=""></a><span class="fu">aggregate</span>(<span class="at">data =</span> d, life_expectancy_total <span class="sc">~</span> fertility_cat <span class="sc">+</span> gdp_pc_cat, </span>
<span id="cb9-2"><a href=""></a>          <span class="at">FUN =</span> mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    fertility_cat  gdp_pc_cat life_expectancy_total
1  Fertility (Q2) GDP pc (Q1)              71.96800
2  Fertility (Q3) GDP pc (Q1)              68.15742
3  Fertility (Q4) GDP pc (Q1)              62.27090
4  Fertility (Q1) GDP pc (Q2)              74.11989
5  Fertility (Q2) GDP pc (Q2)              72.91518
6  Fertility (Q3) GDP pc (Q2)              69.98948
7  Fertility (Q4) GDP pc (Q2)              67.31967
8  Fertility (Q1) GDP pc (Q3)              76.45263
9  Fertility (Q2) GDP pc (Q3)              75.60695
10 Fertility (Q3) GDP pc (Q3)              73.19929
11 Fertility (Q4) GDP pc (Q3)              64.98400
12 Fertility (Q1) GDP pc (Q4)              81.48360
13 Fertility (Q2) GDP pc (Q4)              79.62132
14 Fertility (Q3) GDP pc (Q4)              79.84459</code></pre>
</div>
</div>
</div>
<aside class="notes">
<p>The second way to modify the aggregate function is to add additional categorical variables to the formula argument</p>
<ul>
<li>This creates a long set of results that shows the mean life expectancy for each combination of fertility and gdp quartiles</li>
</ul>
<p><br></p>
<p><strong>Everybody get this code to work?</strong></p>
<ul>
<li><p>Note that there’s a catch to these results!</p></li>
<li><p>In the poorest states (GDP pc Q1) there are NO states with the lowest fertility rates!</p></li>
<li><p>In the richest states it’s the opposite!</p></li>
</ul>
<p><br></p>
<p><strong>So, do our results hold up to adjusting for four levels of state wealth?</strong></p>
<ul>
<li><p>We can see the effect of interest (fertility -&gt; life exp) holds up in all instances except the richest countries!</p></li>
<li><p>Apparently, in rich countries it looks like the negative effects of fertility rate may be reduced!</p></li>
</ul>
<p><br></p>
<p>This means IFF our causal argument specified GDP pc as the only confounder then this analysis is evidence of a causal relationship and not just correlation!</p>
<ul>
<li><strong>Does everybody understand this distinction?</strong></li>
</ul>
<p><br></p>
<p><strong>Any questions about using aggregate for multivariate analyses?</strong></p>
<p><br></p>
<p><strong>SLIDE</strong>: Practice on tobacco use</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section-4" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Multivariate Analyses: Descriptive Statistics by Groups</strong></p>
<p><br></p>
<p><strong>Replicate but replace GDP with tobacco as a confounder</strong></p>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 30px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">tobacco_cat</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Fertility (Q1)</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Fertility (Q2)</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Fertility (Q3)</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Fertility (Q4)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Tobacco (Q1)</td>
<td style="text-align: center;">74.6</td>
<td style="text-align: center;">75.0</td>
<td style="text-align: center;">70.8</td>
<td style="text-align: center;">62.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tobacco (Q2)</td>
<td style="text-align: center;">80.9</td>
<td style="text-align: center;">77.9</td>
<td style="text-align: center;">70.9</td>
<td style="text-align: center;">63.9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Tobacco (Q3)</td>
<td style="text-align: center;">80.0</td>
<td style="text-align: center;">76.8</td>
<td style="text-align: center;">71.2</td>
<td style="text-align: center;">67.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tobacco (Q4)</td>
<td style="text-align: center;">77.0</td>
<td style="text-align: center;">75.5</td>
<td style="text-align: center;">69.7</td>
<td style="text-align: center;">67.1</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<aside class="notes">
<p>Now everybody practice this one time using the categorical version of tobacco use</p>
<ul>
<li>Check to see if the negative effect of fertility on life expectancy remains when adjusting for the quartiles of tobacco use</li>
</ul>
<p><br></p>
<p>(<strong>REVEAL</strong>: Results in wide format for ease of reading)</p>
<ul>
<li>Read results within each row and across the columns, e.g.&nbsp;countries with lowest tobacco use is row 1, how does their life expectancy change as fertility increases?</li>
</ul>
<p><br></p>
<p><strong>What do we learn from this?</strong></p>
<ul>
<li>IFF tobacco use is the only confounder then this is evidence that increasing fertility rates reduces average life expectancies</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section-5" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Multivariate Analyses: Extend a Visualization with Facets</strong></p>
</div>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> fertility_rate_per_woman, <span class="at">y =</span> life_expectancy_total)) <span class="sc">+</span></span>
<span id="cb11-2"><a href=""></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb11-3"><a href=""></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb11-4"><a href=""></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-12-1.png" class="quarto-figure quarto-figure-center r-stretch" width="672"><aside class="notes">
<p>Multivariate approach 2 uses facet wraps</p>
<ul>
<li>IFF the third variable you want to add to any analysis is categorical, you can use a facet wrap to do it</li>
</ul>
<p><br></p>
<p>Just like before we begin with our bivariate analysis</p>
<ul>
<li><p>I’m going to omit the polish and just focus on the new techniques here.</p></li>
<li><p>I’ve also added the geom_smooth function to add an OLS line of best fit to our plot</p></li>
</ul>
<p><br></p>
<p><strong>Everybody clear on this code?</strong></p>
<p><br></p>
<p><strong>SLIDE</strong>: Let’s now adjust this analysis for GDP pc using a facet wrap</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section-6" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Multivariate Analyses: Extend a Visualization with Facets</strong></p>
</div>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> fertility_rate_per_woman, <span class="at">y =</span> life_expectancy_total)) <span class="sc">+</span></span>
<span id="cb12-2"><a href=""></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb12-3"><a href=""></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb12-4"><a href=""></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb12-5"><a href=""></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> gdp_pc_cat, <span class="at">ncol =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-13-1.png" class="quarto-figure quarto-figure-center r-stretch" width="1344"><aside class="notes">
<p>The ONLY change here is the facet_wrap line (line 5)</p>
<ul>
<li><p>We worked with facet wraps a few weeks ago when doing bivariate analyses</p></li>
<li><p><strong>Questions on the code?</strong></p></li>
</ul>
<p><br></p>
<p><strong>What do we learn from this effort to adjust the relationship for the wealth confounder?</strong></p>
<p><br></p>
<ul>
<li><p>Some cases missing GDP data, but fortunately, the relationship there appears similar to the others</p></li>
<li><p>The negative slope is evident in each facet</p></li>
<li><p>If our identification hinged on adjusting for wealth this represents another step in the right direction</p></li>
</ul>
<p><br></p>
<p>Now everybody practice this one time using the categorical version of tobacco use</p>
<ul>
<li><p>Check to see if the negative effect of fertility on life expectancy remains when adjusting for the quartiles of tobacco use</p></li>
<li><p>(<strong>SLIDE</strong>)</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section-7" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Multivariate Analyses: Extend a Visualization with Facets</strong></p>
</div>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href=""></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> fertility_rate_per_woman, <span class="at">y =</span> life_expectancy_total)) <span class="sc">+</span></span>
<span id="cb13-2"><a href=""></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb13-3"><a href=""></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb13-4"><a href=""></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb13-5"><a href=""></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> tobacco_cat, <span class="at">ncol =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-14-1.png" class="quarto-figure quarto-figure-center r-stretch" width="1344"><aside class="notes">
<p><strong>What do we learn from this effort to adjust the relationship for tobacco use as a confounder?</strong></p>
<p><br></p>
<p><strong>SLIDE</strong>: One more multivariate approach for today</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section-8" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Multivariate Analyses: Adding colors, shapes and sizes</strong></p>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> fertility_rate_per_woman, <span class="at">y =</span> life_expectancy_total)) <span class="sc">+</span></span>
<span id="cb14-2"><a href=""></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb14-3"><a href=""></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-15-1.png" class="quarto-figure quarto-figure-center r-stretch" width="768"><aside class="notes">
<p>Ok, let’s reset our code again!</p>
<p><br></p>
<p>Multivariate approach 3 focuses on the points in a scatter plot</p>
<ul>
<li><strong>SLIDE</strong>: IFF the third variable you want to add to any analysis is categorical, you can use colors and shapes</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section-9" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Multivariate Analyses: Adding colors, shapes and sizes</strong></p>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href=""></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> fertility_rate_per_woman, <span class="at">y =</span> life_expectancy_total, </span>
<span id="cb15-2"><a href=""></a>              <span class="at">color =</span> gdp_pc_cat)) <span class="sc">+</span></span>
<span id="cb15-3"><a href=""></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb15-4"><a href=""></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-16-1.png" class="quarto-figure quarto-figure-center r-stretch" width="768"><aside class="notes">
<p>You can use all of our other tools for adjusting these colors</p>
<ul>
<li>scale_color_manual, scale_color_brewer, etc</li>
</ul>
<p><br></p>
<p><strong>Questions on this code?</strong></p>
<p><br></p>
<p><strong>SLIDE</strong>: working in B&amp;W</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section-10" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Multivariate Analyses: Adding colors, shapes and sizes</strong></p>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> fertility_rate_per_woman, <span class="at">y =</span> life_expectancy_total, </span>
<span id="cb16-2"><a href=""></a>              <span class="at">shape =</span> gdp_pc_cat)) <span class="sc">+</span></span>
<span id="cb16-3"><a href=""></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb16-4"><a href=""></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-17-1.png" class="quarto-figure quarto-figure-center r-stretch" width="768"><aside class="notes">
<p>If printing in B&amp;W use shapes</p>
<ul>
<li>Usually helpful to increase the size of the points</li>
</ul>
<p><br></p>
<p><strong>SLIDE</strong>: Use both!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section-11" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Multivariate Analyses: Adding colors, shapes and sizes</strong></p>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href=""></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> fertility_rate_per_woman, <span class="at">y =</span> life_expectancy_total, </span>
<span id="cb17-2"><a href=""></a>              <span class="at">color =</span> gdp_pc_cat, <span class="at">shape =</span> gdp_pc_cat)) <span class="sc">+</span></span>
<span id="cb17-3"><a href=""></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb17-4"><a href=""></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-18-1.png" class="quarto-figure quarto-figure-center r-stretch" width="768"><aside class="notes">
<p>If there aren’t too many observations or there is considerable spacing between groups this can be a really effective visualization technique</p>
<p><br></p>
<p>Everybody practice this replacing GDP with tobacco again</p>
<ul>
<li>(<strong>SLIDE</strong>)</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section-12" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Multivariate Analyses: Adding colors, shapes and sizes</strong></p>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href=""></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> fertility_rate_per_woman, <span class="at">y =</span> life_expectancy_total, </span>
<span id="cb18-2"><a href=""></a>              <span class="at">color =</span> tobacco_cat, <span class="at">shape =</span> tobacco_cat)) <span class="sc">+</span></span>
<span id="cb18-3"><a href=""></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb18-4"><a href=""></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-19-1.png" class="quarto-figure quarto-figure-center r-stretch" width="768"><aside class="notes">
<p>I don’t think this actually clarifies the test given the overlap in the groups</p>
<ul>
<li><strong>SLIDE</strong>: So combine approaches and re-add the facet wrap!</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section-13" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Multivariate Analyses: Adding colors, shapes and sizes</strong></p>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href=""></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> fertility_rate_per_woman, <span class="at">y =</span> life_expectancy_total, </span>
<span id="cb19-2"><a href=""></a>              <span class="at">color =</span> tobacco_cat, <span class="at">shape =</span> tobacco_cat)) <span class="sc">+</span></span>
<span id="cb19-3"><a href=""></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb19-4"><a href=""></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb19-5"><a href=""></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> tobacco_cat, <span class="at">ncol =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-20-1.png" class="quarto-figure quarto-figure-center r-stretch" width="1344"><aside class="notes">
<p><strong>Any questions on using colors or shapes for categorical confounders?</strong></p>
<p><br></p>
<p><strong>SLIDE</strong>: Adding numeric confounders is also a bit clunky but I’d like you to be aware of the option</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section-14" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Multivariate Analyses: Adding colors, shapes and sizes</strong></p>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href=""></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> fertility_rate_per_woman, <span class="at">y =</span> life_expectancy_total, </span>
<span id="cb20-2"><a href=""></a>              <span class="at">size =</span> gdp_per_capita)) <span class="sc">+</span></span>
<span id="cb20-3"><a href=""></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb20-4"><a href=""></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-21-1.png" class="quarto-figure quarto-figure-center r-stretch" width="768"><aside class="notes">
<p>Size will rescale the points per a numeric variable</p>
<ul>
<li>Some refer to these as bubble plots</li>
</ul>
<p><br></p>
<p>Shows us there is a clear separation between the rich and poor world in this relationship!</p>
<p><br></p>
<p>Everybody practice this on tobacco!</p>
<ul>
<li>(<strong>SLIDE</strong>)</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section-15" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2></h2>
<div class="r-fit-text">
<p><strong>Multivariate Analyses: Adding colors, shapes and sizes</strong></p>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href=""></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> fertility_rate_per_woman, <span class="at">y =</span> life_expectancy_total, </span>
<span id="cb21-2"><a href=""></a>              <span class="at">size =</span> tobacco_use_pct)) <span class="sc">+</span></span>
<span id="cb21-3"><a href=""></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb21-4"><a href=""></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-22-1.png" class="quarto-figure quarto-figure-center r-stretch" width="768"><aside class="notes">
<p>Tobacco use much more spread out across this relationship</p>
<ul>
<li>Less distinction rich vs poor on this one</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="multivariate-analyses-1-1" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2>Multivariate Analyses 1</h2>
<p><br></p>
<div class="r-fit-text">
<p><strong>Working with Categorical Variables as Confounders</strong></p>
<ol type="1">
<li><p>Descriptive statistics by groups</p></li>
<li><p>Multiple Facets</p></li>
<li><p>Adding colors, shapes and sizes</p></li>
</ol>
</div>
<aside class="notes">
<p><strong>Any questions on the multivariate techniques we covered today?</strong></p>
<p><br></p>
<p><strong>SLIDE</strong>: Practice for next class!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="for-next-class" class="slide level2 center" data-background-image="Images/background-data_blue_v4.png">
<h2>For Next Class</h2>

<img data-src="13_1-Multivariate-Viz_files/figure-revealjs/unnamed-chunk-23-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:80.0%"><p><strong>Possible Confounders</strong>: unemployment rate, compulsory education</p>
<aside class="notes">
<p>We covered GDP and tobacco in class today</p>
<ul>
<li><p>Your job for Wednesday is to replicate our work today using the other two possible confounders</p></li>
<li><p>Does the central mechanism hold up when we adjust the analyses for either unemployment or years of compulsory education?</p></li>
</ul>
<p><br></p>
<p><strong>Questions?</strong></p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="13_1-Multivariate-Viz_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="13_1-Multivariate-Viz_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="13_1-Multivariate-Viz_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="13_1-Multivariate-Viz_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="13_1-Multivariate-Viz_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="13_1-Multivariate-Viz_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="13_1-Multivariate-Viz_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="13_1-Multivariate-Viz_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="13_1-Multivariate-Viz_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="13_1-Multivariate-Viz_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>